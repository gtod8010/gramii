"use client";

import AppHeader from "@/layout/AppHeader";
import AppSidebar from "@/layout/AppSidebar";
// Backdrop은 AppSidebar 내부에서 모바일 상태에 따라 처리되거나,
// 여기서 isMobileOpen 상태를 가져와 조건부 렌더링 할 수 있습니다.
// 지금은 단순화를 위해 일단 주석 처리하거나, 필요시 SidebarContext에서 isMobileOpen을 가져옵니다.
// import Backdrop from "@/layout/Backdrop"; 
import React from "react";
// import { useSidebar } from "@/context/SidebarContext"; // Backdrop을 위해 필요할 수 있음

export default function AdminLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  // const { isMobileOpen } = useSidebar(); // Backdrop을 위해 필요하다면 사용

  return (
    <div className="flex h-full bg-gray-100 dark:bg-gray-900"> {/* 전체 화면 flex 컨테이너 */}
      <AppSidebar /> {/* 사이드바는 자체 너비를 가짐 */}
      {/* {isMobileOpen && <Backdrop />} */}

      {/* 메인 콘텐츠 영역 */}
      <div className="flex-1 flex flex-col"> {/* 남은 공간을 모두 차지하고, 내부 스크롤 관리 */}
        <AppHeader />
        
        {/* 실제 페이지 내용이 렌더링되는 부분 */}
        <main className="flex-grow mt-6 px-[40px]"> {/* 상단마진 1.5rem(24px), 좌우패딩 40px (예시) */}
          {/* 
            페이지 내용의 최대 너비를 제한하고 싶다면 여기에 div를 추가할 수 있습니다. 
            예: <div className="max-w-screen-2xl mx-auto"> 
          */}
          {children}
        </main>
      </div>
      <a
        href="https://pf.kakao.com/_aIRrn"
        target="_blank"
        rel="noopener noreferrer"
        className="fixed bottom-10 right-10 z-50 bg-[#FEE500] w-16 h-16 rounded-full flex items-center justify-center shadow-lg hover:bg-yellow-400 transition-colors duration-300"
        aria-label="카카오톡 상담 연결"
      >
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 38 38"><g fill="none" fillRule="evenodd"><path fill="#1E1E1E" d="M19 38c10.493 0 19-8.507 19-19S29.493 0 19 0 0 8.507 0 19s8.507 19 19 19z"></path><path fill="#000" fillRule="nonzero" d="M15.225 12.162c-3.482.02-6.425 2.215-7.202 5.053-.11.396-.13 1.233-.13 5.31 0 4.097.02 4.904.13 5.29.777 2.828 3.72 5.014 7.202 5.033.17 0 .34-.002.503-.007.973-.028 2.408-.34 3.728-.813 1.956-.703 3.32-1.743 4.41-3.37.07-.102.13-.21.18-.32.05-.11.09-.22.12-.33.03-.11.05-.22.06-.33.01-.11.01-.22.01-.33-.008-5.323-.008-5.323.01-6.13.342-2.583 2.52-5.014 5.29-5.914.11-.036.22-.06.33-.08.11-.02.22-.03.33-.04.11-.01.22-.01.33-.01h.81c.05 0 .09.004.13.01.04.007.08.01.12.02.04.01.08.02.12.03.04.01.08.02.12.03l.11.04c.03.01.06.02.09.04.03.01.06.03.09.04.03.01.05.03.08.04.03.02.05.03.08.05.02.01.05.03.07.04.02.02.04.03.06.05.4.35.59.85.59 1.48v.02c0 .03-.002.06-.005.09-.003.03-.007.06-.01.09-.005.03-.01.06-.017.09-.007.03-.014.06-.02.08-.008.03-.017.06-.026.09-.01.03-.02.06-.03.08-.01.03-.023.06-.035.09-.012.03-.024.06-.037.09-.013.03-.027.06-.04.08-.014.03-.028.06-.043.09-.015.03-.03.05-.046.08-.016.03-.033.05-.05.08-.017.03-.034.05-.052.08-.018.03-.037.05-.056.08-.02.03-.038.05-.058.08-.02.03-.04.05-.06.08-.02.03-.042.05-.064.08-.022.03-.044.05-.066.07-.023.03-.046.05-.07.07-.024.03-.048.05-.073.07-.025.02-.05.04-.076.06-.026.02-.053.04-.08.06-.027.02-.054.04-.08.06-.028.02-.056.04-.084.05-.03.02-.058.03-.087.05-.03.01-.06.03-.09.04-.03.01-.06.02-.09.03-.03.01-.06.02-.09.03l-.09.02c-.06.01-.12.02-.18.03-.06,0-.12.01-.18.01-.73,0-1.4-.28-1.9-.78-.05-.05-.1-.1-.15-.15-.05-.05-.1-.1-.15-.15s-.1-.1-.15-.15c-.05-.05-.1-.1-.15-.15l-.14-.13c-1.3-1.22-2.02-2.88-2.02-4.63v-.85c0-1.76.72-3.4 2.02-4.62.24-.22.5-.42.78-.6.28-.18.58-.32.9-.42.08-.02.16-.04.24-.06.08-.02.16-.03.24-.04.08-.01.16-.02.24-.03.08-.01.16-.01.24-.01.17,0,.34.01.5.03.16.02.32.05.48.09.16.04.3.09.45.15.15.06.29.13.42.22.13.09.25.2.36.31.11.11.2.23.28.36.08.13.15.27.2.42.05.15.09.3.11.46.02.16.03.32.03.48,0,.11,0,.22-.01.33-.01.11-.02.22-.04.33-.02.11-.04.22-.07.33-.03.11-.07.22-.11.33-.04.11-.09.21-.14.32l-.15.3c-.1.2-.2.38-.32.55-.12.17-.25.33-.4.48-.15.15-.3.28-.48.4-.18.12-.36.23-.56.32-.2.09-.4.17-.62.23-.22.06-.44.1-.68.13-.24.03-.48.04-.72.04h-1.3c-2.73,0-5.04-1.63-6.02-3.92-.04-.08-.07-.17-.09-.25-.02-.08-.04-.17-.06-.25-.02-.08-.03-.17-.04-.25-.01-.08-.02-.17-.02-.25v-.5c0-.08,0-.17.02-.25.01-.08.02-.17.04-.25.01-.08.03-.17.06-.25.02-.08.04-.17.07-.25.03-.08.06-.17.09-.25.43-1.33 1.76-2.28 3.28-2.28h.56c1.52,0,2.85.95,3.28,2.28.04.08.07.17.09.25.02.08.04.17.06.25.02.08.03.17.04.25.01.08.02.17.02.25v.5c0,.08,0,.17-.02.25-.01.08-.02.17-.04.25-.01.08-.03.17-.06.25-.02.08-.04.17-.07.25-.03.08-.06.17-.09.25-.98,2.3-3.29,3.92-6.02,3.92h-1.3c-.24,0-.48-.01-.72-.04-.24-.03-.46-.07-.68-.13-.22-.06-.42-.14-.62-.23-.2-.09-.38-.2-.56-.32-.18-.12-.33-.25-.48-.4-.15-.15-.28-.31-.4-.48-.12-.17-.22-.35-.32-.55l-.15-.3c-.05-.11-.1-.22-.14-.32-.04-.11-.08-.22-.11-.33-.03-.11-.05-.22-.07-.33-.02-.11-.03-.22-.04-.33-.01-.11-.01-.22-.01-.33,0-.16.01-.32.03-.48.02-.16.06-.32.11-.48.05-.16.11-.3.18-.45.07-.15.15-.29.25-.42.1-.13.22-.25.35-.36s.27-.2.42-.28c.15-.08.32-.15.48-.2.16-.05.33-.09.5-.11.17-.02.34-.03.5-.03h.85c.08,0,.17,0,.25.01.08.01.17.02.25.03.08.01.17.03.25.04s.17.03.25.05h.25c.08.02.17.04.25.07.08.03.17.06.25.09.08.03.17.07.25.11.08.04.15.09.22.14.07.05.14.1.2.16.06.06.12.12.18.19.05.07.1.14.14.22.04.08.08.16.09.25v.25c0,.08-.01.17-.03.25-.02.08-.04.17-.07.25-.03.08-.07.17-.11.25-.04.08-.09.16-.14.25-.05.08-.1.16-.16.24-.06.08-.12.16-.19.24-.07.08-.14.15-.22.22-.08.07-.16.14-.25.2-.08.06-.17.12-.25.18-.08.06-.17.11-.25.16-.17.1-.35.18-.52.24-.18.06-.36.1-.55.13-.18.03-.37.04-.55.04H15.225z"></path></g></svg>
      </a>
    </div>
  );
}
